import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "generate travel plan for location: Las vegas, for 3 days for a couple with cheap budget. give me a hotels options list with hotel name, hotel address, price, hotel image url, geo co ordinates, rating, descriptions, and suggest itinerary which is an array of day objects with placename, place details, place image url, geo co ordinates, ticket pricing, rating, time to travel each location for 3 days with each day plan with best to visit in JSON format\n\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a budget-friendly 3-day Las Vegas itinerary for a couple, along with some affordable hotel options. I\'ll provide the data in JSON format as requested.\n\n```json\n{\n  "hotels": [\n    {\n      "hotel_name": "Circus Circus Hotel & Casino",\n      "hotel_address": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "60-120 USD per night",\n       "hotel_image_url": "https://www.circuscircus.com/wp-content/uploads/2023/08/circus-circus-hotel-1.jpg",\n      "geo_coordinates": {\n        "latitude": 36.1382,\n        "longitude": -115.1669\n      },\n      "rating": 3.5,\n      "description": "Affordable hotel on the Strip with a circus theme, including the Adventuredome indoor theme park."\n    },\n        {\n      "hotel_name": "Excalibur Hotel & Casino",\n      "hotel_address": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "70-150 USD per night",\n          "hotel_image_url": "https://www.mgmresorts.com/content/dam/MGM/excalibur/property/hotel/excalibur-hotel-tower-1200x675.jpg",\n      "geo_coordinates": {\n        "latitude": 36.0977,\n        "longitude": -115.1741\n      },\n      "rating": 4.0,\n       "description": "Medieval-themed hotel on the Strip, known for its affordability and family-friendly atmosphere."\n    },\n        {\n      "hotel_name": "Bally\'s Las Vegas",\n      "hotel_address": "3645 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "80-160 USD per night",\n          "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/e5/05/69/bally-s-las-vegas.jpg?w=700&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 36.1139,\n        "longitude": -115.1704\n      },\n      "rating": 4.0,\n       "description": "Classic hotel located in the heart of the Strip, offering reasonable prices and a good location."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n        "theme" : "Exploring the Strip South",\n      "places": [\n        {\n          "place_name": "Welcome to Fabulous Las Vegas Sign",\n          "place_details": "Iconic sign for photo opportunities.",\n          "place_image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Welcome_to_Las_Vegas_Sign_on_June_12th_2015.JPG/1200px-Welcome_to_Las_Vegas_Sign_on_June_12th_2015.JPG",\n           "geo_coordinates": {\n            "latitude": 36.0829,\n            "longitude": -115.1725\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.5,\n          "time_to_travel": "10 minutes (from south strip hotels)"\n        },\n        {\n          "place_name": "Bellagio Conservatory & Botanical Gardens",\n          "place_details": "Beautifully themed seasonal floral displays.",\n           "place_image_url": "https://www.bellagio.com/content/dam/MGM/bellagio/home/bellagio-conservatory-main-1440x810.jpg",\n           "geo_coordinates": {\n            "latitude": 36.1129,\n            "longitude": -115.1739\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.7,\n           "time_to_travel": "15 minutes (walking from the Welcome Sign)"\n        },\n        {\n          "place_name": "Bellagio Fountains",\n          "place_details": "Spectacular water shows synchronized to music.",\n           "place_image_url": "https://i.natgeotv.com/i/57506c2d-af36-4c09-9111-bbcb108d540b/las-vegas-fountains-shutterstock_294648547_16x9.jpg",\n           "geo_coordinates": {\n            "latitude": 36.1124,\n            "longitude": -115.1736\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.8,\n          "time_to_travel": "5 minutes (walking from the conservatory)"\n\n        },\n         {\n           "place_name": "Paris Las Vegas Eiffel Tower Viewing Deck",\n          "place_details": "Enjoy panoramic views of the Strip from the replica Eiffel Tower.",\n          "place_image_url": "https://www.caesars.com/content/dam/clv/Las-Vegas/amenities/Eiffel-Tower/amenity-eiffeltower-exterior-1200x675.jpg",\n           "geo_coordinates": {\n              "latitude": 36.1117,\n            "longitude": -115.1706\n           },\n            "ticket_pricing": "25-30 USD per person",\n          "rating": 4.5,\n          "time_to_travel": "10 minutes (walking from Bellagio)"\n        },\n         {\n          "place_name": "Free Shows and Entertainment on the Strip",\n          "place_details": "Catch free street performers and shows",\n           "place_image_url": "https://www.planetware.com/wpimages/2023/04/las-vegas-best-free-things-street-performers-strip.jpg",\n           "geo_coordinates": {\n               "latitude": 36.1117,\n            "longitude": -115.1706\n           },\n          "ticket_pricing": "Free",\n          "rating": 4.0,\n          "time_to_travel": "Any time during your strip walk."\n        }\n      ]\n    },\n    "day2": {\n        "theme": "Downtown Delights and History",\n      "places": [\n          {\n          "place_name": "Fremont Street Experience",\n          "place_details": "A pedestrian mall with a massive video screen and free light shows.",\n            "place_image_url":"https://a.cdn-hotels.com/gdcs/production137/d365/d59a5d4d-551c-43f1-b964-21391ef451b7.jpg",\n           "geo_coordinates": {\n            "latitude": 36.1702,\n            "longitude": -115.1400\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.6,\n          "time_to_travel": "20 minutes (drive/ride share from the Strip)"\n        },\n          {\n          "place_name": "Downtown Murals",\n          "place_details": "Explore street art and colorful murals in the downtown area.",\n           "place_image_url":"https://dtlv.com/wp-content/uploads/2022/11/DTLV-murals-hero-1.jpg",\n           "geo_coordinates": {\n             "latitude": 36.1686,\n            "longitude": -115.1403\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.3,\n          "time_to_travel": "Walking distance within downtown."\n        },\n         {\n          "place_name": "Mob Museum",\n          "place_details": "An interactive museum detailing the history of organized crime.",\n            "place_image_url": "https://www.bestofvegas.com/wp-content/uploads/2022/11/mob-museum-1.jpg",\n           "geo_coordinates": {\n            "latitude": 36.1673,\n            "longitude": -115.1413\n          },\n          "ticket_pricing": "30-35 USD per person",\n          "rating": 4.5,\n           "time_to_travel": "5 minutes (walking from murals)"\n\n        },\n         {\n            "place_name": "Container Park",\n          "place_details": "Unique outdoor shopping and entertainment area made of shipping containers.",\n          "place_image_url": "https://downtowncontainerpark.com/wp-content/uploads/2017/06/DCP-Carousel-16x9.jpg",\n           "geo_coordinates": {\n            "latitude": 36.1667,\n            "longitude": -115.1388\n          },\n          "ticket_pricing": "Free (charges for shops and restaurants)",\n          "rating": 4.2,\n          "time_to_travel": "10 minutes (walking from the Mob Museum)"\n        },\n         {\n          "place_name": "Golden Nugget\'s Shark Tank",\n          "place_details": "See sharks swimming around the hotel\'s swimming pool area",\n          "place_image_url": "https://www.goldennugget.com/las-vegas/wp-content/uploads/2023/06/gnlv-tank-01-desktop.jpg",\n           "geo_coordinates": {\n               "latitude": 36.1698,\n            "longitude": -115.1427\n           },\n            "ticket_pricing": "Free (for viewing area)",\n          "rating": 4.0,\n           "time_to_travel": "5 minutes (walking from container park)"\n        }\n      ]\n    },\n     "day3": {\n        "theme": "Nature and Relaxing",\n      "places": [\n        {\n          "place_name": "Red Rock Canyon National Conservation Area",\n          "place_details": "Scenic desert landscapes with hiking trails.",\n          "place_image_url":"https://www.redrockcanyonlv.org/wp-content/uploads/2023/12/red-rock-canyon-scenic-loop.jpg",\n           "geo_coordinates": {\n              "latitude": 36.1323,\n            "longitude": -115.4102\n          },\n          "ticket_pricing": "20 USD per vehicle",\n          "rating": 4.7,\n           "time_to_travel": "30 minutes (drive from the Strip)"\n        },\n          {\n          "place_name": "Springs Preserve",\n          "place_details": "Nature preserve with desert exhibits, gardens, and museums",\n          "place_image_url": "https://springspreserve.org/assets/images/uploads/images/_large/SPR_Botanical-Garden.jpg",\n           "geo_coordinates": {\n               "latitude": 36.1667,\n            "longitude": -115.1765\n           },\n          "ticket_pricing": "15-20 USD per person",\n          "rating": 4.4,\n          "time_to_travel": "20 minutes (drive from the Red Rock canyon)"\n        },\n        {\n            "place_name": "High Roller Observation Wheel",\n          "place_details": "Enjoy panoramic views of the city and surrounding areas.",\n            "place_image_url": "https://www.caesars.com/content/dam/clv/Las-Vegas/amenities/High-Roller/amenity-highroller-dayview-1200x675.jpg",\n           "geo_coordinates": {\n             "latitude": 36.1172,\n            "longitude": -115.1693\n          },\n          "ticket_pricing":"25-30 USD per person",\n          "rating": 4.6,\n           "time_to_travel": "15 minutes (drive from Spring Preserve)"\n        },\n         {\n          "place_name": "Linq Promenade",\n          "place_details": "Outdoor shopping, dining, and entertainment area.",\n          "place_image_url":"https://media-cdn.tripadvisor.com/media/photo-s/1c/71/45/94/the-linq-promenade.jpg",\n           "geo_coordinates": {\n             "latitude": 36.1171,\n            "longitude": -115.1698\n           },\n          "ticket_pricing": "Free (charges for shops and restaurants)",\n          "rating": 4.3,\n          "time_to_travel": "5 minutes (walking from High Roller)"\n\n        },\n        {\n            "place_name": "Pool time at your hotel",\n            "place_details": "Relax and enjoy the pool",\n            "place_image_url":"https://www.kayak.com/rimg/himg/59/9e/16/leonardo-24865082-POOL_N-110815099.jpg?width=720&height=576&crop=true",\n           "geo_coordinates": {\n               "latitude": 36.1171,\n            "longitude": -115.1698\n           },\n          "ticket_pricing": "Free (with hotel stay)",\n            "rating": 4.0,\n             "time_to_travel": "Your hotel location"\n        }\n\n      ]\n    }\n  }\n}\n```\n**Important Notes:**\n\n*   **Pricing:** Prices are estimates and can fluctuate based on time of year and availability. Book hotels in advance for best rates.\n*   **Transportation:** Consider ride-sharing services or public transport for getting around, but walking is feasible for parts of the Strip and downtown.\n*   **Food:**  To save money, grab food from cheaper eateries, food courts, or even grocery stores. Take advantage of happy hour deals.\n*   **Flexibility:** This is a suggested itinerary, feel free to adjust it based on your interests and energy levels.\n*   **Free Activities:**  Las Vegas has many free attractions; make sure to explore them! The Bellagio fountains, conservatory, Fremont Street Experience, and walking around the strip are all free of cost.\n*   **Hydration:**  It is very important to stay hydrated in the desert heat, consider carrying a reusable water bottle to refill.\n*   **Sun Protection:** Apply sunscreen and wear hats, sunglasses to protect from the sun.\n\nI hope this plan helps you have an amazing and affordable trip to Las Vegas! Let me know if you have any other questions.\n',
        },
      ],
    },
  ],
});
